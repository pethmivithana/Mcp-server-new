"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/upload-cv";
exports.ids = ["pages/api/upload-cv"];
exports.modules = {

/***/ "(api-node)/./cv-praser.js":
/*!**********************!*\
  !*** ./cv-praser.js ***!
  \**********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   answerQuestion: () => (/* binding */ answerQuestion),\n/* harmony export */   loadCVJson: () => (/* binding */ loadCVJson),\n/* harmony export */   parseCVToJSON: () => (/* binding */ parseCVToJSON),\n/* harmony export */   saveCVJson: () => (/* binding */ saveCVJson)\n/* harmony export */ });\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! url */ \"url\");\n\n\n\nconst __filename = (0,url__WEBPACK_IMPORTED_MODULE_2__.fileURLToPath)(\"file:///C:/Users/user/Desktop/MCP%20Server/cv-praser.js\");\nconst __dirname = path__WEBPACK_IMPORTED_MODULE_1__.dirname(__filename);\nconst DATA_DIR = path__WEBPACK_IMPORTED_MODULE_1__.join(__dirname, 'data');\nconst CV_JSON = path__WEBPACK_IMPORTED_MODULE_1__.join(DATA_DIR, 'cv.json');\n/**\n * CV parser: extracts sections, employment, education, skills, projects, certifications.\n */ function parseCVToJSON(rawText) {\n    const text = (rawText || '').replace(/\\r/g, '').trim();\n    const lines = text.split(/\\n+/).map((l)=>l.trim()).filter(Boolean);\n    // Segment sections by common headings\n    const sections = {};\n    let current = 'summary';\n    for (const line of lines){\n        const h = line.toLowerCase();\n        if (/^(experience|work experience|employment)$/.test(h)) current = 'experience';\n        else if (/^(education)$/.test(h)) current = 'education';\n        else if (/^(skills|technical skills)$/.test(h)) current = 'skills';\n        else if (/^(projects)$/.test(h)) current = 'projects';\n        else if (/^(certifications)$/.test(h)) current = 'certifications';\n        sections[current] = sections[current] || [];\n        sections[current].push(line);\n    }\n    // Employment extraction\n    const employment = [];\n    const exp = sections.experience || [];\n    for (const line of exp){\n        const m1 = line.match(/^(.*?)[\\sâ€“-]+(.*?)[\\s]*\\(([^)]*)\\)$/); // Company - Role (Dates)\n        const m2 = line.match(/^(.*?)\\s+at\\s+(.*?)\\s*(\\(([^)]*)\\))?$/i); // Role at Company\n        if (m1) {\n            const company = m1[1].trim();\n            const role = m1[2].trim();\n            const dates = m1[3].trim();\n            employment.push({\n                company,\n                role,\n                dates,\n                source: line\n            });\n        } else if (m2) {\n            const role = m2[1].trim();\n            const company = m2[2].trim();\n            const dates = (m2[4] || '').trim();\n            employment.push({\n                company,\n                role,\n                dates,\n                source: line\n            });\n        }\n    }\n    const lastRole = employment[employment.length - 1] || null;\n    return {\n        rawText: text,\n        sections,\n        employment,\n        lastRole\n    };\n}\nasync function saveCVJson(cvObj) {\n    await fs_promises__WEBPACK_IMPORTED_MODULE_0__.mkdir(DATA_DIR, {\n        recursive: true\n    });\n    await fs_promises__WEBPACK_IMPORTED_MODULE_0__.writeFile(CV_JSON, JSON.stringify(cvObj, null, 2), 'utf-8');\n}\nasync function loadCVJson() {\n    try {\n        const raw = await fs_promises__WEBPACK_IMPORTED_MODULE_0__.readFile(CV_JSON, 'utf-8');\n        return JSON.parse(raw);\n    } catch  {\n        return null;\n    }\n}\n/**\n * Q&A over the parsed CV: searches sections and sentences.\n */ function answerQuestion(question, cv) {\n    if (!cv) return \"I don't have your CV yet. Please upload it first.\";\n    const q = (question || '').toLowerCase().trim();\n    // --- Special case: last role ---\n    if (/last position|most recent role|last role|previous role|latest role/.test(q)) {\n        const lr = cv.lastRole;\n        if (lr) {\n            const parts = [\n                `Your last role was ${lr.role}`,\n                lr.company ? `at ${lr.company}` : '',\n                lr.dates ? `(${lr.dates})` : ''\n            ].filter(Boolean).join(' ');\n            return parts + '.';\n        }\n    }\n    // --- Section-aware search ---\n    const sectionKeywords = {\n        education: [\n            'education',\n            'degree',\n            'university',\n            'school',\n            'college'\n        ],\n        skills: [\n            'skills',\n            'technologies',\n            'stack',\n            'languages'\n        ],\n        projects: [\n            'project',\n            'application',\n            'app',\n            'portfolio'\n        ],\n        certifications: [\n            'certification',\n            'certificate',\n            'aws',\n            'google',\n            'microsoft'\n        ],\n        experience: [\n            'experience',\n            'work',\n            'role',\n            'position',\n            'company',\n            'employer'\n        ]\n    };\n    for (const [section, keywords] of Object.entries(sectionKeywords)){\n        if (keywords.some((k)=>q.includes(k))) {\n            const lines = cv.sections[section] || [];\n            if (lines.length) return lines.join('. ');\n        }\n    }\n    // --- Keyword search in all sentences ---\n    const sentences = cv.rawText.split(/(?<=\\.)\\s+/);\n    const keywords = q.split(/\\W+/).filter(Boolean);\n    let bestMatch = {\n        score: 0,\n        sentence: ''\n    };\n    for (const sentence of sentences){\n        let score = 0;\n        const sLower = sentence.toLowerCase();\n        for (const kw of keywords){\n            if (sLower.includes(kw)) score++;\n        }\n        if (score > bestMatch.score) bestMatch = {\n            score,\n            sentence\n        };\n    }\n    if (bestMatch.score > 0) return bestMatch.sentence;\n    return \"I couldn't find an answer in your CV. Try rephrasing your question.\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YyxRQUFRLENBQUNELEtBQUs7WUFDckMsTUFBTXBELFFBQVFzQyxHQUFHaEMsUUFBUSxDQUFDeUMsUUFBUSxJQUFJLEVBQUU7WUFDeEMsSUFBSS9DLE1BQU13QixNQUFNLEVBQUUsT0FBT3hCLE1BQU1QLElBQUksQ0FBQztRQUN0QztJQUNGO0lBRUEsMENBQTBDO0lBQzFDLE1BQU02RCxZQUFZaEIsR0FBRzFDLE9BQU8sQ0FBQ0ssS0FBSyxDQUFDO0lBQ25DLE1BQU0rQyxXQUFXVCxFQUFFdEMsS0FBSyxDQUFDLE9BQU9HLE1BQU0sQ0FBQ0M7SUFDdkMsSUFBSWtELFlBQVk7UUFBRUMsT0FBTztRQUFHQyxVQUFVO0lBQUc7SUFFekMsS0FBSyxNQUFNQSxZQUFZSCxVQUFXO1FBQ2hDLElBQUlFLFFBQVE7UUFDWixNQUFNRSxTQUFTRCxTQUFTL0MsV0FBVztRQUNuQyxLQUFLLE1BQU1pRCxNQUFNWCxTQUFVO1lBQ3pCLElBQUlVLE9BQU9MLFFBQVEsQ0FBQ00sS0FBS0g7UUFDM0I7UUFDQSxJQUFJQSxRQUFRRCxVQUFVQyxLQUFLLEVBQUVELFlBQVk7WUFBRUM7WUFBT0M7UUFBUztJQUM3RDtJQUVBLElBQUlGLFVBQVVDLEtBQUssR0FBRyxHQUFHLE9BQU9ELFVBQVVFLFFBQVE7SUFFbEQsT0FBTztBQUNUIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXHVzZXJcXERlc2t0b3BcXE1DUCBTZXJ2ZXJcXGN2LXByYXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMvcHJvbWlzZXMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBmaWxlVVJMVG9QYXRoIH0gZnJvbSAndXJsJztcblxuY29uc3QgX19maWxlbmFtZSA9IGZpbGVVUkxUb1BhdGgoaW1wb3J0Lm1ldGEudXJsKTtcbmNvbnN0IF9fZGlybmFtZSA9IHBhdGguZGlybmFtZShfX2ZpbGVuYW1lKTtcbmNvbnN0IERBVEFfRElSID0gcGF0aC5qb2luKF9fZGlybmFtZSwgJ2RhdGEnKTtcbmNvbnN0IENWX0pTT04gPSBwYXRoLmpvaW4oREFUQV9ESVIsICdjdi5qc29uJyk7XG5cbi8qKlxuICogQ1YgcGFyc2VyOiBleHRyYWN0cyBzZWN0aW9ucywgZW1wbG95bWVudCwgZWR1Y2F0aW9uLCBza2lsbHMsIHByb2plY3RzLCBjZXJ0aWZpY2F0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQ1ZUb0pTT04ocmF3VGV4dCkge1xuICBjb25zdCB0ZXh0ID0gKHJhd1RleHQgfHwgJycpLnJlcGxhY2UoL1xcci9nLCAnJykudHJpbSgpO1xuICBjb25zdCBsaW5lcyA9IHRleHQuc3BsaXQoL1xcbisvKS5tYXAobCA9PiBsLnRyaW0oKSkuZmlsdGVyKEJvb2xlYW4pO1xuXG4gIC8vIFNlZ21lbnQgc2VjdGlvbnMgYnkgY29tbW9uIGhlYWRpbmdzXG4gIGNvbnN0IHNlY3Rpb25zID0ge307XG4gIGxldCBjdXJyZW50ID0gJ3N1bW1hcnknO1xuICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcbiAgICBjb25zdCBoID0gbGluZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICgvXihleHBlcmllbmNlfHdvcmsgZXhwZXJpZW5jZXxlbXBsb3ltZW50KSQvLnRlc3QoaCkpIGN1cnJlbnQgPSAnZXhwZXJpZW5jZSc7XG4gICAgZWxzZSBpZiAoL14oZWR1Y2F0aW9uKSQvLnRlc3QoaCkpIGN1cnJlbnQgPSAnZWR1Y2F0aW9uJztcbiAgICBlbHNlIGlmICgvXihza2lsbHN8dGVjaG5pY2FsIHNraWxscykkLy50ZXN0KGgpKSBjdXJyZW50ID0gJ3NraWxscyc7XG4gICAgZWxzZSBpZiAoL14ocHJvamVjdHMpJC8udGVzdChoKSkgY3VycmVudCA9ICdwcm9qZWN0cyc7XG4gICAgZWxzZSBpZiAoL14oY2VydGlmaWNhdGlvbnMpJC8udGVzdChoKSkgY3VycmVudCA9ICdjZXJ0aWZpY2F0aW9ucyc7XG5cbiAgICBzZWN0aW9uc1tjdXJyZW50XSA9IHNlY3Rpb25zW2N1cnJlbnRdIHx8IFtdO1xuICAgIHNlY3Rpb25zW2N1cnJlbnRdLnB1c2gobGluZSk7XG4gIH1cblxuICAvLyBFbXBsb3ltZW50IGV4dHJhY3Rpb25cbiAgY29uc3QgZW1wbG95bWVudCA9IFtdO1xuICBjb25zdCBleHAgPSBzZWN0aW9ucy5leHBlcmllbmNlIHx8IFtdO1xuICBmb3IgKGNvbnN0IGxpbmUgb2YgZXhwKSB7XG4gICAgY29uc3QgbTEgPSBsaW5lLm1hdGNoKC9eKC4qPylbXFxz4oCTLV0rKC4qPylbXFxzXSpcXCgoW14pXSopXFwpJC8pOyAvLyBDb21wYW55IC0gUm9sZSAoRGF0ZXMpXG4gICAgY29uc3QgbTIgPSBsaW5lLm1hdGNoKC9eKC4qPylcXHMrYXRcXHMrKC4qPylcXHMqKFxcKChbXildKilcXCkpPyQvaSk7IC8vIFJvbGUgYXQgQ29tcGFueVxuXG4gICAgaWYgKG0xKSB7XG4gICAgICBjb25zdCBjb21wYW55ID0gbTFbMV0udHJpbSgpO1xuICAgICAgY29uc3Qgcm9sZSA9IG0xWzJdLnRyaW0oKTtcbiAgICAgIGNvbnN0IGRhdGVzID0gbTFbM10udHJpbSgpO1xuICAgICAgZW1wbG95bWVudC5wdXNoKHsgY29tcGFueSwgcm9sZSwgZGF0ZXMsIHNvdXJjZTogbGluZSB9KTtcbiAgICB9IGVsc2UgaWYgKG0yKSB7XG4gICAgICBjb25zdCByb2xlID0gbTJbMV0udHJpbSgpO1xuICAgICAgY29uc3QgY29tcGFueSA9IG0yWzJdLnRyaW0oKTtcbiAgICAgIGNvbnN0IGRhdGVzID0gKG0yWzRdIHx8ICcnKS50cmltKCk7XG4gICAgICBlbXBsb3ltZW50LnB1c2goeyBjb21wYW55LCByb2xlLCBkYXRlcywgc291cmNlOiBsaW5lIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGxhc3RSb2xlID0gZW1wbG95bWVudFtlbXBsb3ltZW50Lmxlbmd0aCAtIDFdIHx8IG51bGw7XG5cbiAgcmV0dXJuIHsgcmF3VGV4dDogdGV4dCwgc2VjdGlvbnMsIGVtcGxveW1lbnQsIGxhc3RSb2xlIH07XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlQ1ZKc29uKGN2T2JqKSB7XG4gIGF3YWl0IGZzLm1rZGlyKERBVEFfRElSLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgYXdhaXQgZnMud3JpdGVGaWxlKENWX0pTT04sIEpTT04uc3RyaW5naWZ5KGN2T2JqLCBudWxsLCAyKSwgJ3V0Zi04Jyk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsb2FkQ1ZKc29uKCkge1xuICB0cnkge1xuICAgIGNvbnN0IHJhdyA9IGF3YWl0IGZzLnJlYWRGaWxlKENWX0pTT04sICd1dGYtOCcpO1xuICAgIHJldHVybiBKU09OLnBhcnNlKHJhdyk7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogUSZBIG92ZXIgdGhlIHBhcnNlZCBDVjogc2VhcmNoZXMgc2VjdGlvbnMgYW5kIHNlbnRlbmNlcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFuc3dlclF1ZXN0aW9uKHF1ZXN0aW9uLCBjdikge1xuICBpZiAoIWN2KSByZXR1cm4gXCJJIGRvbid0IGhhdmUgeW91ciBDViB5ZXQuIFBsZWFzZSB1cGxvYWQgaXQgZmlyc3QuXCI7XG5cbiAgY29uc3QgcSA9IChxdWVzdGlvbiB8fCAnJykudG9Mb3dlckNhc2UoKS50cmltKCk7XG5cbiAgLy8gLS0tIFNwZWNpYWwgY2FzZTogbGFzdCByb2xlIC0tLVxuICBpZiAoL2xhc3QgcG9zaXRpb258bW9zdCByZWNlbnQgcm9sZXxsYXN0IHJvbGV8cHJldmlvdXMgcm9sZXxsYXRlc3Qgcm9sZS8udGVzdChxKSkge1xuICAgIGNvbnN0IGxyID0gY3YubGFzdFJvbGU7XG4gICAgaWYgKGxyKSB7XG4gICAgICBjb25zdCBwYXJ0cyA9IFtcbiAgICAgICAgYFlvdXIgbGFzdCByb2xlIHdhcyAke2xyLnJvbGV9YCxcbiAgICAgICAgbHIuY29tcGFueSA/IGBhdCAke2xyLmNvbXBhbnl9YCA6ICcnLFxuICAgICAgICBsci5kYXRlcyA/IGAoJHtsci5kYXRlc30pYCA6ICcnXG4gICAgICBdLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJyk7XG4gICAgICByZXR1cm4gcGFydHMgKyAnLic7XG4gICAgfVxuICB9XG5cbiAgLy8gLS0tIFNlY3Rpb24tYXdhcmUgc2VhcmNoIC0tLVxuICBjb25zdCBzZWN0aW9uS2V5d29yZHMgPSB7XG4gICAgZWR1Y2F0aW9uOiBbJ2VkdWNhdGlvbicsICdkZWdyZWUnLCAndW5pdmVyc2l0eScsICdzY2hvb2wnLCAnY29sbGVnZSddLFxuICAgIHNraWxsczogWydza2lsbHMnLCAndGVjaG5vbG9naWVzJywgJ3N0YWNrJywgJ2xhbmd1YWdlcyddLFxuICAgIHByb2plY3RzOiBbJ3Byb2plY3QnLCAnYXBwbGljYXRpb24nLCAnYXBwJywgJ3BvcnRmb2xpbyddLFxuICAgIGNlcnRpZmljYXRpb25zOiBbJ2NlcnRpZmljYXRpb24nLCAnY2VydGlmaWNhdGUnLCAnYXdzJywgJ2dvb2dsZScsICdtaWNyb3NvZnQnXSxcbiAgICBleHBlcmllbmNlOiBbJ2V4cGVyaWVuY2UnLCAnd29yaycsICdyb2xlJywgJ3Bvc2l0aW9uJywgJ2NvbXBhbnknLCAnZW1wbG95ZXInXVxuICB9O1xuXG4gIGZvciAoY29uc3QgW3NlY3Rpb24sIGtleXdvcmRzXSBvZiBPYmplY3QuZW50cmllcyhzZWN0aW9uS2V5d29yZHMpKSB7XG4gICAgaWYgKGtleXdvcmRzLnNvbWUoayA9PiBxLmluY2x1ZGVzKGspKSkge1xuICAgICAgY29uc3QgbGluZXMgPSBjdi5zZWN0aW9uc1tzZWN0aW9uXSB8fCBbXTtcbiAgICAgIGlmIChsaW5lcy5sZW5ndGgpIHJldHVybiBsaW5lcy5qb2luKCcuICcpO1xuICAgIH1cbiAgfVxuXG4gIC8vIC0tLSBLZXl3b3JkIHNlYXJjaCBpbiBhbGwgc2VudGVuY2VzIC0tLVxuICBjb25zdCBzZW50ZW5jZXMgPSBjdi5yYXdUZXh0LnNwbGl0KC8oPzw9XFwuKVxccysvKTtcbiAgY29uc3Qga2V5d29yZHMgPSBxLnNwbGl0KC9cXFcrLykuZmlsdGVyKEJvb2xlYW4pO1xuICBsZXQgYmVzdE1hdGNoID0geyBzY29yZTogMCwgc2VudGVuY2U6ICcnIH07XG5cbiAgZm9yIChjb25zdCBzZW50ZW5jZSBvZiBzZW50ZW5jZXMpIHtcbiAgICBsZXQgc2NvcmUgPSAwO1xuICAgIGNvbnN0IHNMb3dlciA9IHNlbnRlbmNlLnRvTG93ZXJDYXNlKCk7XG4gICAgZm9yIChjb25zdCBrdyBvZiBrZXl3b3Jkcykge1xuICAgICAgaWYgKHNMb3dlci5pbmNsdWRlcyhrdykpIHNjb3JlKys7XG4gICAgfVxuICAgIGlmIChzY29yZSA+IGJlc3RNYXRjaC5zY29yZSkgYmVzdE1hdGNoID0geyBzY29yZSwgc2VudGVuY2UgfTtcbiAgfVxuXG4gIGlmIChiZXN0TWF0Y2guc2NvcmUgPiAwKSByZXR1cm4gYmVzdE1hdGNoLnNlbnRlbmNlO1xuXG4gIHJldHVybiBcIkkgY291bGRuJ3QgZmluZCBhbiBhbnN3ZXIgaW4geW91ciBDVi4gVHJ5IHJlcGhyYXNpbmcgeW91ciBxdWVzdGlvbi5cIjtcbn1cbiJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJmaWxlVVJMVG9QYXRoIiwiX19maWxlbmFtZSIsInVybCIsIl9fZGlybmFtZSIsImRpcm5hbWUiLCJEQVRBX0RJUiIsImpvaW4iLCJDVl9KU09OIiwicGFyc2VDVlRvSlNPTiIsInJhd1RleHQiLCJ0ZXh0IiwicmVwbGFjZSIsInRyaW0iLCJsaW5lcyIsInNwbGl0IiwibWFwIiwibCIsImZpbHRlciIsIkJvb2xlYW4iLCJzZWN0aW9ucyIsImN1cnJlbnQiLCJsaW5lIiwiaCIsInRvTG93ZXJDYXNlIiwidGVzdCIsInB1c2giLCJlbXBsb3ltZW50IiwiZXhwIiwiZXhwZXJpZW5jZSIsIm0xIiwibWF0Y2giLCJtMiIsImNvbXBhbnkiLCJyb2xlIiwiZGF0ZXMiLCJzb3VyY2UiLCJsYXN0Um9sZSIsImxlbmd0aCIsInNhdmVDVkpzb24iLCJjdk9iaiIsIm1rZGlyIiwicmVjdXJzaXZlIiwid3JpdGVGaWxlIiwiSlNPTiIsInN0cmluZ2lmeSIsImxvYWRDVkpzb24iLCJyYXciLCJyZWFkRmlsZSIsInBhcnNlIiwiYW5zd2VyUXVlc3Rpb24iLCJxdWVzdGlvbiIsImN2IiwicSIsImxyIiwicGFydHMiLCJzZWN0aW9uS2V5d29yZHMiLCJlZHVjYXRpb24iLCJza2lsbHMiLCJwcm9qZWN0cyIsImNlcnRpZmljYXRpb25zIiwic2VjdGlvbiIsImtleXdvcmRzIiwiT2JqZWN0IiwiZW50cmllcyIsInNvbWUiLCJrIiwiaW5jbHVkZXMiLCJzZW50ZW5jZXMiLCJiZXN0TWF0Y2giLCJzY29yZSIsInNlbnRlbmNlIiwic0xvd2VyIiwia3ciXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./cv-praser.js\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload-cv&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cupload-cv.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload-cv&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cupload-cv.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   handler: () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/api-utils */ \"(api-node)/./node_modules/next/dist/server/api-utils/index.js\");\n/* harmony import */ var next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_upload_cv_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pages\\api\\upload-cv.js */ \"(api-node)/./pages/api/upload-cv.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(api-node)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(api-node)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_upload_cv_js__WEBPACK_IMPORTED_MODULE_4__]);\n_pages_api_upload_cv_js__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// Import the userland code.\n\n\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__.hoist)(_pages_api_upload_cv_js__WEBPACK_IMPORTED_MODULE_4__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__.hoist)(_pages_api_upload_cv_js__WEBPACK_IMPORTED_MODULE_4__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/upload-cv\",\n        pathname: \"/api/upload-cv\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_upload_cv_js__WEBPACK_IMPORTED_MODULE_4__,\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || ''\n});\nasync function handler(req, res, ctx) {\n    let srcPage = \"/api/upload-cv\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {}\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return;\n    }\n    const { query, params, prerenderManifest, routerServerContext } = prepareResult;\n    try {\n        const method = req.method || 'GET';\n        const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__.getTracer)();\n        const activeSpan = tracer.getActiveScopeSpan();\n        const onRequestError = routeModule.instrumentationOnRequestError.bind(routeModule);\n        const invokeRouteModule = async (span)=>routeModule.render(req, res, {\n                query: {\n                    ...query,\n                    ...params\n                },\n                params,\n                allowedRevalidateHeaderKeys: [],\n                multiZoneDraftMode: Boolean(false),\n                trustHostHeader: false,\n                // TODO: get this from from runtime env so manifest\n                // doesn't need to load\n                previewProps: prerenderManifest.preview,\n                propagateError: false,\n                dev: routeModule.isDev,\n                page: \"/api/upload-cv\",\n                internalRevalidate: routerServerContext == null ? void 0 : routerServerContext.revalidate,\n                onError: (...args)=>onRequestError(req, ...args)\n            }).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await invokeRouteModule(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, invokeRouteModule));\n        }\n    } catch (err) {\n        // we re-throw in dev to show the error overlay\n        if (routeModule.isDev) {\n            throw err;\n        }\n        // this is technically an invariant as error handling\n        // should be done inside of api-resolver onError\n        (0,next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__.sendError)(res, 500, 'Internal Server Error');\n    } finally{\n        // We don't allow any waitUntil work in pages API routes currently\n        // so if callback is present return with resolved promise since no\n        // pending work\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n    }\n}\n\n//# sourceMappingURL=pages-api.js.map\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGdXBsb2FkLWN2JnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUN1cGxvYWQtY3YuanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXVEO0FBQ0M7QUFDdUM7QUFDckM7QUFDMUQ7QUFDdUQ7QUFDaUI7QUFDRjtBQUN0RTtBQUNBLGlFQUFlLHdFQUFLLENBQUMsb0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLG9EQUFRO0FBQ3BDO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osYUFBYSxPQUFvQyxJQUFJLENBQUU7QUFDdkQsd0JBQXdCLE1BQXVDO0FBQy9ELENBQUM7QUFDTTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxLQUFxQixFQUFFLEVBRTFCO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHdEQUF3RDtBQUNwRTtBQUNBO0FBQ0EsdUJBQXVCLDRFQUFTO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLDZDQUE2QyxFQUE2QztBQUMxRiw0Q0FBNEMsS0FBd0M7QUFDcEYsaUNBQWlDLEtBQW9DO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxnRkFBYztBQUMvRSwrREFBK0QseUNBQXlDO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLFFBQVEsRUFBRSxNQUFNO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0Esa0JBQWtCO0FBQ2xCLHVDQUF1QyxRQUFRLEVBQUUsUUFBUTtBQUN6RDtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDViw2RUFBNkUsZ0ZBQWM7QUFDM0YsaUNBQWlDLFFBQVEsRUFBRSxRQUFRO0FBQ25ELDBCQUEwQix1RUFBUTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHFFQUFTO0FBQ2pCLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZW5kRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9hcGktdXRpbHNcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXHVwbG9hZC1jdi5qc1wiO1xuaW1wb3J0IHsgZ2V0VHJhY2VyLCBTcGFuS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS90cmFjZXJcIjtcbmltcG9ydCB7IEJhc2VTZXJ2ZXJTcGFuIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL2NvbnN0YW50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCAnZGVmYXVsdCcpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgJ2NvbmZpZycpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS91cGxvYWQtY3ZcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS91cGxvYWQtY3ZcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiAnJyxcbiAgICAgICAgZmlsZW5hbWU6ICcnXG4gICAgfSxcbiAgICB1c2VybGFuZCxcbiAgICBkaXN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfRElTVF9ESVIgfHwgJycsXG4gICAgcmVsYXRpdmVQcm9qZWN0RGlyOiBwcm9jZXNzLmVudi5fX05FWFRfUkVMQVRJVkVfUFJPSkVDVF9ESVIgfHwgJydcbn0pO1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMsIGN0eCkge1xuICAgIGxldCBzcmNQYWdlID0gXCIvYXBpL3VwbG9hZC1jdlwiO1xuICAgIC8vIHR1cmJvcGFjayBkb2Vzbid0IG5vcm1hbGl6ZSBgL2luZGV4YCBpbiB0aGUgcGFnZSBuYW1lXG4gICAgLy8gc28gd2UgbmVlZCB0byB0byBwcm9jZXNzIGR5bmFtaWMgcm91dGVzIHByb3Blcmx5XG4gICAgLy8gVE9ETzogZml4IHR1cmJvcGFjayBwcm92aWRpbmcgZGlmZmVyaW5nIHZhbHVlIGZyb20gd2VicGFja1xuICAgIGlmIChwcm9jZXNzLmVudi5UVVJCT1BBQ0spIHtcbiAgICAgICAgc3JjUGFnZSA9IHNyY1BhZ2UucmVwbGFjZSgvXFwvaW5kZXgkLywgJycpIHx8ICcvJztcbiAgICB9XG4gICAgY29uc3QgcHJlcGFyZVJlc3VsdCA9IGF3YWl0IHJvdXRlTW9kdWxlLnByZXBhcmUocmVxLCByZXMsIHtcbiAgICAgICAgc3JjUGFnZVxuICAgIH0pO1xuICAgIGlmICghcHJlcGFyZVJlc3VsdCkge1xuICAgICAgICByZXMuc3RhdHVzQ29kZSA9IDQwMDtcbiAgICAgICAgcmVzLmVuZCgnQmFkIFJlcXVlc3QnKTtcbiAgICAgICAgY3R4LndhaXRVbnRpbCA9PSBudWxsID8gdm9pZCAwIDogY3R4LndhaXRVbnRpbC5jYWxsKGN0eCwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHsgcXVlcnksIHBhcmFtcywgcHJlcmVuZGVyTWFuaWZlc3QsIHJvdXRlclNlcnZlckNvbnRleHQgfSA9IHByZXBhcmVSZXN1bHQ7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZCB8fCAnR0VUJztcbiAgICAgICAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKCk7XG4gICAgICAgIGNvbnN0IGFjdGl2ZVNwYW4gPSB0cmFjZXIuZ2V0QWN0aXZlU2NvcGVTcGFuKCk7XG4gICAgICAgIGNvbnN0IG9uUmVxdWVzdEVycm9yID0gcm91dGVNb2R1bGUuaW5zdHJ1bWVudGF0aW9uT25SZXF1ZXN0RXJyb3IuYmluZChyb3V0ZU1vZHVsZSk7XG4gICAgICAgIGNvbnN0IGludm9rZVJvdXRlTW9kdWxlID0gYXN5bmMgKHNwYW4pPT5yb3V0ZU1vZHVsZS5yZW5kZXIocmVxLCByZXMsIHtcbiAgICAgICAgICAgICAgICBxdWVyeToge1xuICAgICAgICAgICAgICAgICAgICAuLi5xdWVyeSxcbiAgICAgICAgICAgICAgICAgICAgLi4ucGFyYW1zXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAgICAgYWxsb3dlZFJldmFsaWRhdGVIZWFkZXJLZXlzOiBwcm9jZXNzLmVudi5fX05FWFRfQUxMT1dFRF9SRVZBTElEQVRFX0hFQURFUlMsXG4gICAgICAgICAgICAgICAgbXVsdGlab25lRHJhZnRNb2RlOiBCb29sZWFuKHByb2Nlc3MuZW52Ll9fTkVYVF9NVUxUSV9aT05FX0RSQUZUX01PREUpLFxuICAgICAgICAgICAgICAgIHRydXN0SG9zdEhlYWRlcjogcHJvY2Vzcy5lbnYuX19ORVhUX1RSVVNUX0hPU1RfSEVBREVSLFxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGdldCB0aGlzIGZyb20gZnJvbSBydW50aW1lIGVudiBzbyBtYW5pZmVzdFxuICAgICAgICAgICAgICAgIC8vIGRvZXNuJ3QgbmVlZCB0byBsb2FkXG4gICAgICAgICAgICAgICAgcHJldmlld1Byb3BzOiBwcmVyZW5kZXJNYW5pZmVzdC5wcmV2aWV3LFxuICAgICAgICAgICAgICAgIHByb3BhZ2F0ZUVycm9yOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkZXY6IHJvdXRlTW9kdWxlLmlzRGV2LFxuICAgICAgICAgICAgICAgIHBhZ2U6IFwiL2FwaS91cGxvYWQtY3ZcIixcbiAgICAgICAgICAgICAgICBpbnRlcm5hbFJldmFsaWRhdGU6IHJvdXRlclNlcnZlckNvbnRleHQgPT0gbnVsbCA/IHZvaWQgMCA6IHJvdXRlclNlcnZlckNvbnRleHQucmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICBvbkVycm9yOiAoLi4uYXJncyk9Pm9uUmVxdWVzdEVycm9yKHJlcSwgLi4uYXJncylcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCk9PntcbiAgICAgICAgICAgICAgICBpZiAoIXNwYW4pIHJldHVybjtcbiAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAnaHR0cC5zdGF0dXNfY29kZSc6IHJlcy5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICAnbmV4dC5yc2MnOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RTcGFuQXR0cmlidXRlcyA9IHRyYWNlci5nZXRSb290U3BhbkF0dHJpYnV0ZXMoKTtcbiAgICAgICAgICAgICAgICAvLyBXZSB3ZXJlIHVuYWJsZSB0byBnZXQgYXR0cmlidXRlcywgcHJvYmFibHkgT1RFTCBpcyBub3QgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGlmICghcm9vdFNwYW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJykgIT09IEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbmV4cGVjdGVkIHJvb3Qgc3BhbiB0eXBlICcke3Jvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJyl9Jy4gUGxlYXNlIHJlcG9ydCB0aGlzIE5leHQuanMgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9uZXh0LmpzYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnJvdXRlJyk7XG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBgJHttZXRob2R9ICR7cm91dGV9YDtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQuc3Bhbl9uYW1lJzogbmFtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKG5hbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShgJHttZXRob2R9ICR7cmVxLnVybH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgLy8gVE9ETzogYWN0aXZlU3BhbiBjb2RlIHBhdGggaXMgZm9yIHdoZW4gd3JhcHBlZCBieVxuICAgICAgICAvLyBuZXh0LXNlcnZlciBjYW4gYmUgcmVtb3ZlZCB3aGVuIHRoaXMgaXMgbm8gbG9uZ2VyIHVzZWRcbiAgICAgICAgaWYgKGFjdGl2ZVNwYW4pIHtcbiAgICAgICAgICAgIGF3YWl0IGludm9rZVJvdXRlTW9kdWxlKGFjdGl2ZVNwYW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdHJhY2VyLndpdGhQcm9wYWdhdGVkQ29udGV4dChyZXEuaGVhZGVycywgKCk9PnRyYWNlci50cmFjZShCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0LCB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW5OYW1lOiBgJHttZXRob2R9ICR7cmVxLnVybH1gLFxuICAgICAgICAgICAgICAgICAgICBraW5kOiBTcGFuS2luZC5TRVJWRVIsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLm1ldGhvZCc6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnRhcmdldCc6IHJlcS51cmxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGludm9rZVJvdXRlTW9kdWxlKSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gd2UgcmUtdGhyb3cgaW4gZGV2IHRvIHNob3cgdGhlIGVycm9yIG92ZXJsYXlcbiAgICAgICAgaWYgKHJvdXRlTW9kdWxlLmlzRGV2KSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcyBpcyB0ZWNobmljYWxseSBhbiBpbnZhcmlhbnQgYXMgZXJyb3IgaGFuZGxpbmdcbiAgICAgICAgLy8gc2hvdWxkIGJlIGRvbmUgaW5zaWRlIG9mIGFwaS1yZXNvbHZlciBvbkVycm9yXG4gICAgICAgIHNlbmRFcnJvcihyZXMsIDUwMCwgJ0ludGVybmFsIFNlcnZlciBFcnJvcicpO1xuICAgIH0gZmluYWxseXtcbiAgICAgICAgLy8gV2UgZG9uJ3QgYWxsb3cgYW55IHdhaXRVbnRpbCB3b3JrIGluIHBhZ2VzIEFQSSByb3V0ZXMgY3VycmVudGx5XG4gICAgICAgIC8vIHNvIGlmIGNhbGxiYWNrIGlzIHByZXNlbnQgcmV0dXJuIHdpdGggcmVzb2x2ZWQgcHJvbWlzZSBzaW5jZSBub1xuICAgICAgICAvLyBwZW5kaW5nIHdvcmtcbiAgICAgICAgY3R4LndhaXRVbnRpbCA9PSBudWxsID8gdm9pZCAwIDogY3R4LndhaXRVbnRpbC5jYWxsKGN0eCwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload-cv&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cupload-cv.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/upload-cv.js":
/*!********************************!*\
  !*** ./pages/api/upload-cv.js ***!
  \********************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var formidable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! formidable */ \"formidable\");\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! cloudinary */ \"cloudinary\");\n/* harmony import */ var pdf_parse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! pdf-parse */ \"pdf-parse\");\n/* harmony import */ var mammoth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! mammoth */ \"mammoth\");\n/* harmony import */ var _cv_praser_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../cv-praser.js */ \"(api-node)/./cv-praser.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([formidable__WEBPACK_IMPORTED_MODULE_0__]);\nformidable__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// pages/api/upload-cv.js\n\n\n\n\n\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\n// Cloudinary setup\ncloudinary__WEBPACK_IMPORTED_MODULE_1__.v2.config({\n    cloud_name: process.env.CLOUDINARY_CLOUD_NAME,\n    api_key: process.env.CLOUDINARY_API_KEY,\n    api_secret: process.env.CLOUDINARY_API_SECRET\n});\nasync function handler(req, res) {\n    if (req.method !== 'POST') return res.status(405).json({\n        error: 'Method not allowed'\n    });\n    const form = (0,formidable__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        multiples: false\n    });\n    form.parse(req, async (err, fields, files)=>{\n        if (err) {\n            console.error('Formidable parse error:', err);\n            return res.status(500).json({\n                error: 'Error parsing upload'\n            });\n        }\n        let file = files.file;\n        if (!file) return res.status(400).json({\n            error: 'No file uploaded'\n        });\n        if (Array.isArray(file)) file = file[0];\n        try {\n            // Upload to Cloudinary\n            const uploadResult = await cloudinary__WEBPACK_IMPORTED_MODULE_1__.v2.uploader.upload(file.filepath, {\n                resource_type: 'raw',\n                folder: 'cv_uploads'\n            });\n            const fileUrl = uploadResult.secure_url;\n            const ext = file.originalFilename ? file.originalFilename.split('.').pop().toLowerCase() : '';\n            // Get file buffer from Cloudinary URL\n            const response = await fetch(fileUrl);\n            const buffer = Buffer.from(await response.arrayBuffer());\n            // Parse text depending on type\n            let rawText = '';\n            if (ext === 'pdf') {\n                const data = await pdf_parse__WEBPACK_IMPORTED_MODULE_2__(buffer);\n                rawText = data.text;\n            } else if (ext === 'docx') {\n                const data = await mammoth__WEBPACK_IMPORTED_MODULE_3__.extractRawText({\n                    buffer\n                });\n                rawText = data.value;\n            } else if (ext === 'txt') {\n                rawText = buffer.toString('utf-8');\n            } else {\n                return res.status(400).json({\n                    error: 'Unsupported file type: ' + ext\n                });\n            }\n            // Convert to JSON & save\n            const cvJson = (0,_cv_praser_js__WEBPACK_IMPORTED_MODULE_4__.parseCVToJSON)(rawText);\n            await (0,_cv_praser_js__WEBPACK_IMPORTED_MODULE_4__.saveCVJson)(cvJson);\n            return res.status(200).json({\n                success: true,\n                fileUrl,\n                parsed: cvJson\n            });\n        } catch (e) {\n            console.error('CV parse/save error:', e);\n            return res.status(500).json({\n                error: 'Failed to process CV'\n            });\n        }\n    });\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTztZQUF1QjtRQUM5RDtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcdXNlclxcRGVza3RvcFxcTUNQIFNlcnZlclxccGFnZXNcXGFwaVxcdXBsb2FkLWN2LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHBhZ2VzL2FwaS91cGxvYWQtY3YuanNcbmltcG9ydCBmb3JtaWRhYmxlIGZyb20gJ2Zvcm1pZGFibGUnO1xuaW1wb3J0IHsgdjIgYXMgY2xvdWRpbmFyeSB9IGZyb20gJ2Nsb3VkaW5hcnknO1xuaW1wb3J0IHBkZlBhcnNlIGZyb20gJ3BkZi1wYXJzZSc7XG5pbXBvcnQgbWFtbW90aCBmcm9tICdtYW1tb3RoJztcbmltcG9ydCB7IHBhcnNlQ1ZUb0pTT04sIHNhdmVDVkpzb24gfSBmcm9tICcuLi8uLi9jdi1wcmFzZXIuanMnO1xuXG5leHBvcnQgY29uc3QgY29uZmlnID0geyBhcGk6IHsgYm9keVBhcnNlcjogZmFsc2UgfSB9O1xuXG4vLyBDbG91ZGluYXJ5IHNldHVwXG5jbG91ZGluYXJ5LmNvbmZpZyh7XG4gIGNsb3VkX25hbWU6IHByb2Nlc3MuZW52LkNMT1VESU5BUllfQ0xPVURfTkFNRSxcbiAgYXBpX2tleTogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9BUElfS0VZLFxuICBhcGlfc2VjcmV0OiBwcm9jZXNzLmVudi5DTE9VRElOQVJZX0FQSV9TRUNSRVQsXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKVxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcblxuICBjb25zdCBmb3JtID0gZm9ybWlkYWJsZSh7IG11bHRpcGxlczogZmFsc2UgfSk7XG5cbiAgZm9ybS5wYXJzZShyZXEsIGFzeW5jIChlcnIsIGZpZWxkcywgZmlsZXMpID0+IHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGb3JtaWRhYmxlIHBhcnNlIGVycm9yOicsIGVycik7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIHBhcnNpbmcgdXBsb2FkJyB9KTtcbiAgICB9XG5cbiAgICBsZXQgZmlsZSA9IGZpbGVzLmZpbGU7XG4gICAgaWYgKCFmaWxlKSByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ05vIGZpbGUgdXBsb2FkZWQnIH0pO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZpbGUpKSBmaWxlID0gZmlsZVswXTtcblxuICAgIHRyeSB7XG4gICAgICAvLyBVcGxvYWQgdG8gQ2xvdWRpbmFyeVxuICAgICAgY29uc3QgdXBsb2FkUmVzdWx0ID0gYXdhaXQgY2xvdWRpbmFyeS51cGxvYWRlci51cGxvYWQoZmlsZS5maWxlcGF0aCwge1xuICAgICAgICByZXNvdXJjZV90eXBlOiAncmF3JywgLy8gaW1wb3J0YW50IGZvciBQREZzL0RPQ1hcbiAgICAgICAgZm9sZGVyOiAnY3ZfdXBsb2FkcycsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZmlsZVVybCA9IHVwbG9hZFJlc3VsdC5zZWN1cmVfdXJsO1xuICAgICAgY29uc3QgZXh0ID0gZmlsZS5vcmlnaW5hbEZpbGVuYW1lXG4gICAgICAgID8gZmlsZS5vcmlnaW5hbEZpbGVuYW1lLnNwbGl0KCcuJykucG9wKCkudG9Mb3dlckNhc2UoKVxuICAgICAgICA6ICcnO1xuXG4gICAgICAvLyBHZXQgZmlsZSBidWZmZXIgZnJvbSBDbG91ZGluYXJ5IFVSTFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChmaWxlVXJsKTtcbiAgICAgIGNvbnN0IGJ1ZmZlciA9IEJ1ZmZlci5mcm9tKGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpO1xuXG4gICAgICAvLyBQYXJzZSB0ZXh0IGRlcGVuZGluZyBvbiB0eXBlXG4gICAgICBsZXQgcmF3VGV4dCA9ICcnO1xuICAgICAgaWYgKGV4dCA9PT0gJ3BkZicpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHBkZlBhcnNlKGJ1ZmZlcik7XG4gICAgICAgIHJhd1RleHQgPSBkYXRhLnRleHQ7XG4gICAgICB9IGVsc2UgaWYgKGV4dCA9PT0gJ2RvY3gnKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBtYW1tb3RoLmV4dHJhY3RSYXdUZXh0KHsgYnVmZmVyIH0pO1xuICAgICAgICByYXdUZXh0ID0gZGF0YS52YWx1ZTtcbiAgICAgIH0gZWxzZSBpZiAoZXh0ID09PSAndHh0Jykge1xuICAgICAgICByYXdUZXh0ID0gYnVmZmVyLnRvU3RyaW5nKCd1dGYtOCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdVbnN1cHBvcnRlZCBmaWxlIHR5cGU6ICcgKyBleHQgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbnZlcnQgdG8gSlNPTiAmIHNhdmVcbiAgICAgIGNvbnN0IGN2SnNvbiA9IHBhcnNlQ1ZUb0pTT04ocmF3VGV4dCk7XG4gICAgICBhd2FpdCBzYXZlQ1ZKc29uKGN2SnNvbik7XG5cbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IHN1Y2Nlc3M6IHRydWUsIGZpbGVVcmwsIHBhcnNlZDogY3ZKc29uIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NWIHBhcnNlL3NhdmUgZXJyb3I6JywgZSk7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byBwcm9jZXNzIENWJyB9KTtcbiAgICB9XG4gIH0pO1xufVxuIl0sIm5hbWVzIjpbImZvcm1pZGFibGUiLCJ2MiIsImNsb3VkaW5hcnkiLCJwZGZQYXJzZSIsIm1hbW1vdGgiLCJwYXJzZUNWVG9KU09OIiwic2F2ZUNWSnNvbiIsImNvbmZpZyIsImFwaSIsImJvZHlQYXJzZXIiLCJjbG91ZF9uYW1lIiwicHJvY2VzcyIsImVudiIsIkNMT1VESU5BUllfQ0xPVURfTkFNRSIsImFwaV9rZXkiLCJDTE9VRElOQVJZX0FQSV9LRVkiLCJhcGlfc2VjcmV0IiwiQ0xPVURJTkFSWV9BUElfU0VDUkVUIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImZvcm0iLCJtdWx0aXBsZXMiLCJwYXJzZSIsImVyciIsImZpZWxkcyIsImZpbGVzIiwiY29uc29sZSIsImZpbGUiLCJBcnJheSIsImlzQXJyYXkiLCJ1cGxvYWRSZXN1bHQiLCJ1cGxvYWRlciIsInVwbG9hZCIsImZpbGVwYXRoIiwicmVzb3VyY2VfdHlwZSIsImZvbGRlciIsImZpbGVVcmwiLCJzZWN1cmVfdXJsIiwiZXh0Iiwib3JpZ2luYWxGaWxlbmFtZSIsInNwbGl0IiwicG9wIiwidG9Mb3dlckNhc2UiLCJyZXNwb25zZSIsImZldGNoIiwiYnVmZmVyIiwiQnVmZmVyIiwiZnJvbSIsImFycmF5QnVmZmVyIiwicmF3VGV4dCIsImRhdGEiLCJ0ZXh0IiwiZXh0cmFjdFJhd1RleHQiLCJ2YWx1ZSIsInRvU3RyaW5nIiwiY3ZKc29uIiwic3VjY2VzcyIsInBhcnNlZCIsImUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/upload-cv.js\n");

/***/ }),

/***/ "cloudinary":
/*!*****************************!*\
  !*** external "cloudinary" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("cloudinary");

/***/ }),

/***/ "formidable":
/*!*****************************!*\
  !*** external "formidable" ***!
  \*****************************/
/***/ ((module) => {

module.exports = import("formidable");;

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "mammoth":
/*!**************************!*\
  !*** external "mammoth" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mammoth");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "pdf-parse":
/*!****************************!*\
  !*** external "pdf-parse" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("pdf-parse");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload-cv&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cupload-cv.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();